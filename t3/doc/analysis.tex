\section{Theoretical Analysis}
\label{sec:analysis}

As already referred, to perform the theoretical analysis of the circuit in figure \ref{acdc_ours} it was used {\bf Octave}. With this tool, we simulated the sine wave of the circuit after going through the transformer. Then that wave goes to the full-wave rectifier. As already mentioned, this rectifier (using the ideal diode model) transforms the signal in its absolute value. Next, using the capacitor, the signal starts to really look like a DC voltage. In figure \ref{fig:acdcoc}, it is possible to observe the output voltage of the Envelope Detector. After a initial time, the voltage oscilates near 15V.

After the envelope detector, the signal goes to the Voltage Regulator. To study this part of the circuit, we used incremental analysis, where the diodes can be considered resistors $r_d$.

\begin{equation}
        r_d = \frac{\eta V_T}{I_Se^{\frac{V_D}{\eta V_T}}}
        \label{rd}
\end{equation}

The value of $V_D = V_{ON}$ was estimated to be the value of the average obtained in {\bf Ngspice} divided by the $N$. We considered $V_T=25\;mV$, $\eta = 1$ and$I_S = 1.0 \times 10^{-14}$ (used by {\bf Ngspice}).

With equation \ref{vo}, obtained with voltage divider, we get the AC component of the final signal. The total signal will be the sum of the AC component with the DC component, $N V_{ON}$.

At the end, we obtained the output voltage represented in figure \ref{fig:acdcoc} for the Voltage Regulator. After the initial period, this voltage is almost constant in 12V, as desired, that can be easily observed in figure \ref{fig:vo-12}. It can be observed that this voltage oscilates significantly less than the output voltage of the Envelope Detector. In table \ref{tab:acdcoc}, it's present the values obtained for the average and ripple of the output signal of the Voltage Regulator (calculated excluding an initial time interval) and we can see that the ripple is quite small and the average is near 12V.

\begin{figure}[H]
  \centering
  \includegraphics[width=0.8\linewidth]{acdcoctave.eps}
  \caption{Output voltages of the Envelope Detector and of the Voltage Regulator}
  \label{fig:acdcoc}
\end{figure}

\begin{table}[H]
  \centering
  \begin{tabular}{|c|c|}
    \hline
        \input{../mat/acdcoc}
        \hline
  \end{tabular}
  \caption{Average and ripple for the theoretical output voltage of the Voltage Regulator}
  \label{tab:acdcoc}
\end{table}

\begin{figure}[H]
  \centering
  \includegraphics[width=0.8\linewidth]{12octave.eps}
  \caption{Output voltage of the Voltage Regulator minus 12V}
  \label{fig:vo-12}
\end{figure}
