\section{Conclusion}
\label{sec:conclusion}

This laboratory assignment had as the main objective the analysis of the circuit in Figure~\ref{circuit}. That goal was achieved by performing a theoretical analysis, using {\bf Octave}, and a simulation, using {\bf Ngspice}.

In the tables \ref{error1_res}, \ref{error2_res}, \ref{error4a_res} and \ref{error4f_res}, it is possible to see the results obtained for the two initial parts of the analysis and for the one regarding the forced solution. It can be observed that the results presented for the theoretical analysis and for the simulation are equal. However, it is worth to refer that the values presented have a limited number of algorithms. But still, the fact that the values are equal to at least 5 decimal points suggests that the models used to make the theoretical part are the same models that {\bf Ngspice} used.

This is also proved my be resemblance of the graphs obtained.

%As one can see there's a very slight deviation in some of the values compared with previous calculations. We proceeded to determine, numerically, how significant these deviations are, as shown in Table~\ref{error_res}. Most of the values are exact ($0\%$) error, and those that aren't have very small errors.

%The theoretical results ($V_t$) do not match perfectly the simulation results ($V_s$). However, the error is quite small, always less than $1\%$.

The circuit is ``simple'' and contains only linear components, so large deviations were not anticipated. These can be due to any number of causes, including but not limited to:

\begin{itemize}
\item floating point arithmetics;
\item different numerical precisions in the different tools employed;
\item propagated errors made when solving the linear system of equations.
\end{itemize}

%The circuit is quite simple and it contains only linear components, so it was not expected that these errors would occur. They have probably arrived due to different number precision in calculations in the two tools used.

%However this error is assumed to be caused by numerical propagated errors made when solving the linear system of equations or simply due to floating point arithmetics. %There's also a certain random error...

All in all, the results obtained were very satisfactory.

\begin{table}[H]
  \centering
  \begin{tabular}{|c|c|c|c|c|}
    \hline
        $V$ & $V_t$ & $V_s$ & $|V_t-V_s|$ & $Error (\%)$ \\
        \hline
        \hline
        \input{errors1}
        \hline
  \end{tabular}
  \caption{Theoretical values ($V_t$) and Simulation values ($V_s$) of the analysis for $t < 0$ (table produced with {\bf Python}) - The absolute deviation and error presented here are rounded up to one significant digit, for ease of interpretation.}
  \label{error1_res}
\end{table}

\begin{table}[H]
  \centering
  \begin{tabular}{|c|c|c|c|c|}
    \hline
        $V$ & $V_t$ & $V_s$ & $|V_t-V_s|$ \\
        \hline
        \hline
        \input{errors2}
        \hline
  \end{tabular}
  \caption{Theoretical values ($V_t$) and Simulation values ($V_s$) of the analysis for $t = 0$ (table produced with {\bf Python})}
  \label{error2_res}
\end{table}

\begin{table}[H]
  \centering
  \begin{tabular}{|c|c|c|c|c|}
    \hline
        $V$ & $V_t$ & $V_s$ & $|V_t-V_s|$ \\
        \hline
        \hline
        \input{errors4a}
        \hline
  \end{tabular}
  \caption{Theoretical values and Simulation values of the amplitudes for the forced solution (table produced with {\bf Python})}
  \label{error4a_res}
\end{table}

\begin{table}[H]
  \centering
  \begin{tabular}{|c|c|c|c|c|}
    \hline
        $V$ & $\phi_t$ & $\phi_s$ & $|\phi_t-\phi_s|$ \\
        \hline
        \hline
        \input{errors4f}
        \hline
  \end{tabular}
  \caption{Theoretical values and Simulation values of the phase delays for the forced solution (table produced with {\bf Python})}
  \label{error4f_res}
\end{table}

