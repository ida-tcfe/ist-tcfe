 -------------- Lab1 TCFE -----------------

* NGSPICE simulation script

* ------ To run like lab assignement uncomment (unc)

* --------- Intructions to print Potential Diff ------------
*print v(n1, n2) = v(n1) - v(n2), if only v(n1) => v2 = 0 (GND) , page 302 ngspice manual

* forces current values to be saved
.options savecurrents

* ------------- Independent Sources 
Va n2 GND 5.07072749268
Id n7 n6 1.00018604098m 

Vzero GND nz 0
*Imaginary source (needed to specify Hc) (unc)

* ------------- Dependent Sources 
Gb n4 n6 n3 n5 7.26322828319k
*Ib = Kb*Vb - Kb = 7.26322828319k , Vb = To be calculated

Hc n5 n7 Vzero 8.05067652194k
*Vc = Kc*Ic - Kc = 05067652194k , Ic = To be Calculated (unc)
*Vc n5 n7 7.8 ; - Not known! Just for debugg

* -------------- Resistors - All in kOhms!
R1 n3 n2 1.02051254911K
R2 n4 n3 2.07133294635K
R3 n3 n5 3.10650554224K
R4 GND n5 4.01929064552K
R5 n5 n6 3.0844359874K
R6 nz n8 2.01287586659K
R7 n8 n7 1.02150900709K

*makes plots in color
*set hcopypscolor=0
*set color0=white
*set color1=black
*set color2=red
*set color3=blue
*set color4=violet
*set color5=rgb:3/8/0
*set color6=rgb:4/0/0

.control
op

echo "********************************************"
echo  "Operating point"
echo "********************************************"

echo "---------Debugging Values-----------"

echo "Potential Difference"
echo "Voltage at Nodes"
*print @Q1[ic]
*print @Rf[i]

echo  "op_TAB"
print n2
print n3
print n4
print n5
print n6
print n7
print n8
print v(n5, n7)
print @r1[i]
print @r2[i]
print @r3[i]
print @r4[i]
print @r5[i]
print @r6[i]
print @r7[i]
print @Gb[i]

echo  "op_END"

*quit might help?
.endc
.end